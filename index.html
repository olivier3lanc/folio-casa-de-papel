---
layout: libdoc/playground
permalink: index.html # To avoid: Warning: Empty `slug` generated for '/'.
# unlisted: true
# iframe_mode: true
---
<header>
    <h1 id="cdp_title"
        class="c-position m-fixed m-middle-center m-anchor-middle-center u-m-none u-c-primary-max u-lh-title u-lsp-title u-z-100 u-pe-none"
        scroll-btween="cdp_title"
        scroll-btween-detector="cdp_scene_detector"
        data-transform="translateX(-50%) translateY(-50%) scale(|1 to 0.2|)"
        data-top="calc(|50 to 100|% - |0 to 23|px)"
        data-left="calc(|0:50 to 50:50 to 100:0|% + |0 to 40|px)">
        <span class="u-ws-nowrap">La Casa</span>
        <span class="c-grid m-middle m-nowrap">
            <span class="u-fs-xl u-mr-xxs u-p-de u-bc-primary u-lh-1 u-lsp-none">de</span>Papel
        </span>
    </h1>
</header>

<main class="u-h-100vh">
    {% for scene in site.data.scenes %}
        <article id="{{scene.id}}" class="cdp_scene u-transition-opacity {% if forloop.first %}{% else %}{% if forloop.index == 2 %}u-transparent{% else %}u-none{% endif %}{% endif %}">
            <figure class="c-position m-fixed m-top-0 u-w-100 u-h-100vh u-brep-no-repeat u-bpos-center u-m-none u-p-none"
                    style="will-change: background-image, background-size;"
                    scroll-frames{% if forloop.index > 2 %}-disabled{% endif %}="{{scene.id}}"
                    scroll-frames-detector="cdp_scene_detector"
                    data-json="json/{{scene.id}}.json">
            </figure>
            {% for element in scene.elements %}
                <p  class="{{element.main_class}}"
                    scroll-btween{% if forloop.index > 2 %}-disabled{% endif %}="{{scene.id}}"
                    scroll-btween-detector="cdp_scene_detector"
                    {% for tween in element.main_tweens %} data-{{tween.property}}="{{tween.value}}"{% endfor %}>
                    {{element.main_text}}
                    {% for inner_element in element.inner_elements %}
                        <span   class="{{inner_element.class}}"
                                scroll-btween{% if forloop.index > 2 %}-disabled{% endif %}="{{scene.id}}_{{forloop.index}}"
                                scroll-btween-detector="cdp_scene_detector"
                                {% for tween in inner_element.tweens %} data-{{tween.property}}="{{tween.value}}"{% endfor %}>{{inner_element.text}}</span>
                    {% endfor %}
                </p>
            {% endfor %}
        </article>
    {% endfor %}
</main>

<div id="cdp_scene_detector"></div>
<div class="u-h-100vh"></div>

<button class="c-btn u-relative u-mb-xxl" onclick="casaDePapel.playNextScene()">Next</button>

<nav class="c-position m-sticky m-bottom-0 m-left-0 c-grid m-nowrap u-z-1">
    <span   id="cdp_nav_line_1"
            class="c-position m-absolute m-top-0 m-left-0 u-bt-thin-solid-primary u-pe-none"
            scroll-btween="cdp_nav_line_1"
            scroll-btween-detector="cdp_scene_detector"
            data-width="|0 to 99|vw"></span>
    <a      href="{{site.url}}{{site.baseurl}}"
            id="cdp_nav_thumbnail"
            class="u-m-none u-p-none" 
            scroll-btween="cdp_nav_thumbnail"
            scroll-btween-detector="cdp_scene_detector"
            data-width="|0 to 70|px"></a>
    <!-- <div class="c-grid m-middle u-pl-sm u-pr-sm u-pt-xs u-pb-xs u-lh-1">
        <a href="https://www.youtube.com/watch?v=F1oHBcTdKL4" class="u-ff-lead-2 u-fs-xs" target="_blank">
            <span class="u-block u-ws-nowrap">My Life Is Going On</span>
            <span>Cecilia Krull</span></a>
    </div> -->

    <button onclick="casaDePapel.playPauseAudio()">play pause</button>
    <audio id="cdp_audio_player">
        <source src="audio/cecilia-krull-my-life-is-going-on.mp3" type="audio/mp3">
    </audio>
    <div class="c-grid">
        {% for scene in site.data.scenes %}
            <a  id="{{scene.id}}_nav" 
                class="{% if forloop.first == false %}u-pe-none u-faded{% endif %}"
                href="#" 
                title="Scene {{forloop.index}}" 
                onclick="casaDePapel.playScene('{{scene.id}}')">{{forloop.index}}</a>
        {% endfor %}
    </div>
</nav>
